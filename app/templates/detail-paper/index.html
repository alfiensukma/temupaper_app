{% load unicorn %}
<div class="my-4">
    <p class="text-4xl font-bold text-gray-800 text-justify">{{ paper.title }}</p>
    
    <div x-data="{ showAllAuthors: false }" class="my-6">
        <div class="flex flex-wrap items-center gap-2">
            {% with total_authors=paper.authors|length %}
            {% with visible_authors=paper.authors|slice:":10" %}
            {% with remaining_authors=paper.authors|slice:"10:" %}
            
            <div class="flex flex-wrap items-center gap-2">
                {% for author in visible_authors %}
                    <span class="px-3 py-1 bg-gray-200 text-[#4787FA] text-normal rounded-md">{{ author }}</span>
                {% endfor %}
            </div>
    
            {% if remaining_authors %}
                <div x-show="!showAllAuthors" class="inline-block">
                    <button 
                        x-on:click="showAllAuthors = true"
                        class="px-3 py-1 bg-gray-200 text-[#4787FA] text-normal rounded-md hover:bg-gray-300 cursor-pointer">
                        +{{ remaining_authors|length }} authors
                    </button>
                </div>
    
                <div x-show="showAllAuthors" class="w-full">
                    <div class="flex flex-wrap items-center gap-2">
                        {% for author in remaining_authors %}
                            <span class="px-3 py-1 bg-gray-200 text-[#4787FA] text-normal rounded-md">{{ author }}</span>
                        {% endfor %}
                    </div>
                    <button 
                        x-on:click="showAllAuthors = false"
                        class="px-3 py-1 mt-2 bg-gray-200 text-[#4787FA] text-normal rounded-md hover:bg-gray-300 cursor-pointer">
                        Show less
                    </button>
                </div>
            {% endif %}
    
            {% endwith %}
            {% endwith %}
            {% endwith %}
        </div>
        
        <div class="flex items-center gap-2 mt-2">
            <span class="text-normal text-gray-800">{{ paper.date }}</span>
            â€¢
            <span class="text-normal text-gray-800"> DOI: <a href="https://doi.org/{{ paper.doi }}" 
                target="_blank" class="text-[#4787FA] no-underline hover:underline">{{ paper.doi }}</a>
            </span>
        </div>
    </div>

    <p class="text-justify">
        {{ paper.abstract }}
    </p>
    <div class="my-8 flex gap-3">
        <a target="_blank" href="{{ paper.url }}"
            class="inline-flex items-center gap-2 text-[#4787FA] border border-[#4787FA] bg-transparent hover:bg-blue-600 hover:text-white focus:ring-2 focus:outline-none focus:ring-blue-300 font-xl rounded-2xl text-xl px-5 py-2.5">
            <svg class="w-6 h-6" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.5 16.75C13.0368 17.4676 13.7217 18.0614 14.5082 18.4911C15.2947 18.9208 16.1644 19.1764 17.0583 19.2404C17.9522 19.3044 18.8495 19.1754 19.6892 18.8622C20.5289 18.549 21.2914 18.0588 21.925 17.425L25.675 13.675C26.8135 12.4962 27.4435 10.9174 27.4292 9.2787C27.415 7.63997 26.7577 6.07239 25.5989 4.91359C24.4401 3.75479 22.8725 3.09748 21.2338 3.08324C19.595 3.069 18.0163 3.69897 16.8375 4.83746L14.6875 6.97496" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M17.5 14.25C16.9632 13.5324 16.2783 12.9386 15.4918 12.5089C14.7053 12.0792 13.8356 11.8236 12.9417 11.7596C12.0478 11.6956 11.1505 11.8246 10.3108 12.1378C9.47112 12.451 8.70861 12.9412 8.075 13.575L4.325 17.325C3.18651 18.5038 2.55655 20.0826 2.57079 21.7213C2.58503 23.36 3.24233 24.9276 4.40113 26.0864C5.55993 27.2452 7.12751 27.9025 8.76624 27.9168C10.405 27.931 11.9837 27.301 13.1625 26.1625L15.3 24.025" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>    
            <span>Lihat di Semantic Scholar</span>
        </a>
        {% unicorn 'save-paper' %}
    </div>

    <p class="text-4xl font-bold text-gray-800">Karya Ilmiah Terkait</p>
    <!-- Carousel -->
    {% unicorn 'paper-carousel' papers=paper_recommendation %}
</div>